<div class="container d-flex flex-column" style="height: 500px;">

  <div class="row d-flex justify-content-center">
    <h3>Arraste la imagen en la siguiente sección</h3>
  </div>
  <div class="row flex-fill">
    <!-- Recortador -->
    <div class="dropzone d-flex flex-column" style="height: 100%;" appDnd (fileDropped)= "onArrastrarFicheros($event)">
      <div class="row flex-fill justify-content-center">
      <ng-container
      *ngIf="this.imagenBase64; then ConImagen; else SinImagen">
      </ng-container>
      </div>
    </div>
  </div>

  <div class="row d-flex justify-content-center mt-3">
    <input type="file" style="visibility: hidden;" #fileDropRef id="fileDropRef" (change) = "onSeleccionFicheros($event)">

      <h3> o seleccione un archivo </h3>



  </div>
  <div class="row d-flex justify-content-center">
    <label class="text-center"for="fileDropRef">Seleccionar fichero</label>
  </div>

</div>







 <!-- Plantilla cuando el recortador NO tiene imágen -->
 <ng-template #SinImagen>
   <div class="row  d-flex justify-content-center">
    <img *ngIf="!this.imagenBase64"  src="../../../../assets/images/cargarImagen/ic-upload-file.svg" class="flex-fill">
   </div>

</ng-template>

<!-- Plantilla cuando el recortador SI tiene imágen -->
<ng-template #ConImagen>
  <div class="mb-4 d-flex flex-column align-items-stretch">
    <image-cropper
    [imageBase64]="this.imagenBase64"
    [maintainAspectRatio]="true"
    [aspectRatio]="1 / 1"
    format="png"
    (imageCropped)="onImagenRecortada($event)"
    (imageLoaded)="this.onImagenCargada()"
    (cropperReady)="this.onCortadorListo()"
    (loadImageFailed)="this.onCargaErronea()"
  ></image-cropper>

  <div id="imagenRecortada" class="d-flex justify-content-center mb-4">

  <img class="rounded-circle w-25" [src]="this.imagenRecortada" />

  </div>

  <div class="d-flex justify-content-center">
    <button class="btn btn-primary">Listo</button>
  </div>

</div>


</ng-template>
